# 1주차 제출용 기획 산출물 — 의료업체 통합 예약 추천 챗봇(추천 전담 모듈)

## 프로젝트 전제(요약)
- 의료·헬스케어 챗봇 팀 프로젝트(4주)
- 각 팀원이 기능 단위 챗봇을 각각 구현 후 최종 통합
- 본 문서는 **병원·의료업체 예약 “추천” 챗봇(추천 전담 모듈)** 기획 산출물(1주차 제출용)
- 영양 관리/알러지 관리, 걸음 수 측정은 타 모듈 담당

---

## 1. 목표 및 기대 산출물 정의

### 1.1 목표
- 의료 관련 업체(병원/약국/검진센터) **예약 추천(업체/방문유형/연락 경로) 업무를 전담**하는 챗봇 모듈을 1주차에 기획 수준으로 명확히 정의한다.
- 통합 단계에서 다른 기능 모듈과 **책임 경계(범위/비범위), 데이터 인터페이스, 의사결정 지점**이 충돌 없이 결합되도록 한다.
- 증상 기반 “방문 유형 추천”은 제공하되, **의료 진단/처방 영역은 명확히 배제**한다.

### 1.2 1주차 기대 산출물(제출물)
| 산출물 | 내용 | 완료 기준(1주차) |
|---|---|---|
| 기능 범위 정의서 | 예약 기능의 포함/제외, 책임 범위 | 표로 경계가 명확함 |
| 추천 플로우(대화/업무) | 추천 생성/조건 변경/추천 종료 + 예외 흐름 | 단계/분기 포함 |
| AI 사용 범위 명세 | AI 적용 지점, 금지 지점 | 포함/제외가 분리됨 |
| 데모 시나리오(단독) | 단독 예약 챗봇 기준 대화 시나리오 1개 | 시작~완료까지 재현 가능 |

---

## 2. 의료업체 통합 예약 기능 설명(책임 범위/비범위 명확화)

### 2.1 기능 개요
- 사용자가 조건(지역/시간대/방문 목적)을 입력하면 **적합한 의료업체를 추천**한다.
- 추천 결과에는 **연락/이동 경로(전화/홈페이지/지도 링크)**를 포함한다(핸드오프).
- 사용자의 증상 입력을 기반으로 **방문 유형(진료/검진/약국 등) 추천**을 제공한다.
- 추천은 “예약을 돕기 위한 분류/가이드”이며 의료 판단을 대체하지 않는다.

### 2.2 내가 책임지는 범위(추천 전담 모듈)
- **업체 유형**: 병원 / 약국 / 검진센터(확장 가능)
- **추천 업무**
  - 추천 생성(업체 후보 3~5개 제시)
  - 추천 조건 변경(지역/거리/시간대/업체 유형 등) 후 재추천
  - 추천 결과 저장/공유(선택)
  - 예약 “핸드오프”(전화/링크/준비사항 안내)
- **예약에 필요한 정보 수집**
  - 기본: 업체, 날짜/시간, 방문자, 연락처, 방문 목적(선택/추천 포함)
  - 제약: 영업시간, 예약 가능 슬롯, 최소 정보 조건(필수값)
- **추천 상태 관리**
  - `Draft(요구 수집)`, `Recommended(추천 제시)`, `Saved(저장)`, `Expired(만료)` 등 상태 정의
- **통합 관점 역할**
  - 통합 챗봇에서 “예약 관련 의도”가 감지되면 본 모듈이 담당한다.
  - 다른 모듈에서 넘어온 컨텍스트(예: 알러지 주의사항 요약)를 받아 예약에 활용한다.

### 2.3 내가 책임지지 않는 범위(명시적 비범위)
- **실제 예약 확정/변경/취소 대행**
  - 병원/약국/검진센터의 실제 예약시스템에 “확정”을 넣거나, 변경/취소를 처리하지 않는다.
- **의료 행위**
  - 진단, 처방, 약 추천, 치료 계획 제시
  - 응급 판단(응급실 가야 하는지 등) 및 의료적 위험도 판정
- **영양/알러지 관리(타 모듈)**
  - 식단/섭취 기록 및 조회, 알러지 프로필(알러젠/주의사항) 관리
- **걸음 수 측정/건강 데이터 수집(타 모듈)**
  - 웨어러블 연동, 걸음 수 기반 코칭 등
- **결제/보험 청구**
  - 예약금 결제, 보험 자격 확인, 청구/서류 발급
- **업체 내부 시스템 확정(현실 연동 범위)**
  - 실제 병원 EMR/예약시스템과의 실시간 연동은 1주차 범위에서 **가정/모킹 가능**(프로젝트 상황에 따라 2~4주차 결정)

### 2.4 책임 경계 요약 표
| 구분 | 포함(내 모듈) | 제외(타 모듈/비범위) |
|---|---|---|
| 사용자 입력 | 추천 조건 수집/확인 질문 | 영양/알러지 장기 관리, 걸음 수 수집 |
| 핵심 처리 | 업체/경로/준비사항 추천(재추천 포함) | 진단/처방/응급판단, 실제 예약 처리 |
| 출력 | 추천 결과(후보/연락/경로/준비사항) | 의료 조언, 치료 가이드 |
| 데이터 | 추천 이력/선택(선택) | 건강 지표 원본, 의료기록 |
| 외부 연동 | (선택) 업체 리스트/가용 슬롯 API, 모킹 가능 | EMR/처방 시스템 연동 |

---

## 3. AI 사용 범위 명확화(포함/제외)

### 3.1 AI 포함 기능(예약 보조 목적)
- **증상 기반 방문 유형 추천**
  - 입력 예: “목이 아프고 열이 있어요”
  - 출력 예: “내과/이비인후과 진료 예약을 우선 추천” + (일반 안내 수준의 주의 문구)
- **방문 목적 정규화/분류**
  - 사용자가 말한 내용을 예약 폼의 “방문 목적” 필드로 매핑(예: “독감검사” → “검사/검진”)
- **질문 최소화(슬롯 채우기)**
  - 필수 정보가 비었을 때만 추가 질문을 생성

### 3.2 AI 제외 기능(명시적 금지)
- 의료 진단/처방/약 추천
- 질환명 확정, 검사 필요성 판단, 치료 방법 제시
- 응급도 판정 및 의료기관 선택을 강제하는 판단
- 민감정보를 과도하게 수집하는 대화(주민번호 등)

### 3.3 AI 사용 시 출력 원칙(기획 기준)
- “추천”은 **예약 카테고리 선택을 돕는 수준**으로 제한한다.
- 의료적 표현은 “일반적 안내”로만 제공하고, 확정 판단을 피한다.
- 최종 예약 필수 정보는 **사용자 확인(컨펌)** 후 저장/확정한다.

---

## 4. 추천 플로우 설명(단독 추천 챗봇 기준)

### 4.1 공통 전제(필수 수집 정보)
- **필수**: 업체 유형/업체명(또는 지역), 날짜, 시간대, 방문자(본인/가족), 연락처
- **선택**: 방문 목적(직접 입력 또는 추천), 요청 사항(메모)

### 4.2 추천 생성 플로우
1) 인사/요청 확인  
- “어떤 의료업체 예약을 도와드릴까요? (병원/약국/검진센터)”

2) 방문 유형 추천(옵션, AI)  
- 사용자가 증상을 말하면: “예약을 위해 방문 유형을 추천드릴까요?” → 동의 시 추천 제공  
- 추천 결과는 “선택지”로 제시(강제 아님)

3) 업체 선택/검색  
- 지역/업체명 수집 → 후보 리스트 제시 → 사용자 선택

4) 일정 선택  
- 날짜 → 가능한 시간대(또는 사용자가 원하는 시간대) → 슬롯 확정

5) 추천 결과 제시(컨펌)  
- 후보 업체 3~5개 + 연락/경로 + 준비사항 요약 → “어느 곳을 선택할까요?”

6) 핸드오프(예약 연결)  
- 선택 업체의 전화/링크 제공 + 사용자가 외부에서 예약하도록 안내(모듈 범위 밖)

### 4.3 추천 조건 변경(재추천) 플로우
1) 변경 요청 확인(무엇을 바꿀지)  
- “지역/거리/시간대/업체 유형 중 무엇을 바꿀까요?”

2) 추천 식별(선택)  
- 저장된 추천이 있으면 불러오기(없으면 현재 대화 컨텍스트 기반)

3) 변경 대상 값 재선택  
- 변경 후 후보 슬롯/업체 제시 → 선택

4) 변경 확정 컨펌 → 변경 완료 안내

### 4.4 추천 취소/종료 플로우
1) 종료 의도 확인  
- “추천을 종료할까요? 저장해둘까요?”

2) 저장(선택) 또는 종료 처리(만료/삭제)

### 4.5 리마인드(선택)
- 예약 확정이 아닌 추천 기반이므로, 기본은 “추천 저장/재확인” 리마인드만 제공한다(선택 기능).

### 4.6 예외/실패 처리(최소)
- 업체/시간 미확정: “필수 정보가 부족” → 누락 필드만 재질문
- 가용 슬롯 없음: 대안 시간/다른 지점 제안
- 사용자 응답 모호: 선택지(버튼형/번호 선택)로 재구성
- 정책상 불가: 취소/변경 가능 시간 제한 등 안내(가정 가능)

---

## 5. 데모 시나리오 1개(단독 추천 챗봇 기준)

### 5.1 시나리오 정의
- **시나리오명**: 증상 입력 → 방문 유형 추천 → 병원 예약 추천 → 연락 경로 제공(핸드오프)
- **데모 목표**
  - AI 추천은 ‘예약 카테고리 선택 보조’로만 사용됨을 확인한다.
  - 최종 예약 확정은 하지 않고, 연락/링크 제공으로 외부 예약을 연결함을 확인한다.

### 5.2 대화 흐름(예시 스크립트)
- 사용자: “목이 아프고 열이 좀 있어요. 오늘 병원 예약 추천받고 싶어요.”
- 챗봇: “예약을 도와드릴게요. 먼저 방문 유형 추천이 필요하신가요? (네/아니오)”
- 사용자: “네”
- 챗봇: “일반적으로 이런 증상은 내과 또는 이비인후과 진료 예약을 많이 합니다. 원하시는 쪽을 선택해주세요.  
  1) 내과  2) 이비인후과  3) 직접 선택”
- 사용자: “2번”
- 챗봇: “좋아요. 어느 지역에서 병원 추천을 받을까요? (예: 강남 / 강남역 근처)”
- 사용자: “강남역 근처로”
- 챗봇: “강남역 근처 이비인후과 후보입니다. 선택해주세요.  
  1) A이비인후과  2) B클리닉  3) C의원”
- 사용자: “1번”
- 챗봇: “원하시는 날짜/시간대가 있나요? (예: 오늘 저녁 / 내일 오전)”
- 사용자: “오늘”
- 챗봇: “가능한 시간대입니다. 선택해주세요.  
  1) 15:00  2) 16:30  3) 18:00”
- 사용자: “2번”
- 챗봇: “방문자는 본인이신가요? (본인/가족)”
- 사용자: “본인”
- 챗봇: “추천 결과입니다.  
  1) A이비인후과(강남역) — 전화/홈페이지 링크 제공  
  2) B클리닉 — 전화/홈페이지 링크 제공  
  3) C의원 — 전화/홈페이지 링크 제공  
  어느 곳으로 연결해드릴까요?”
- 사용자: “1번”
- 챗봇: “A이비인후과로 예약할 수 있도록 연락 경로를 드릴게요.  
  - 전화: (링크/번호)  
  - 홈페이지: (링크)  
  - 방문 전 참고: (준비사항/운영시간 요약)”

**(선택: 추천 저장 리마인드 예시)**  
- 챗봇: “[리마인드] 저장된 ‘강남역 이비인후과 추천’이 있습니다. 다시 확인할까요? (확인/조건변경/종료)”

---

## (선택) 2주차 대비 추가 정리 항목
- 통합 단계 라우팅 규칙(‘예약’ 의도 탐지 키워드/슬롯)
- 공통 데이터 스키마(추천 객체 필드 정의)
- 운영 정책(추천 저장 기간, 소스 최신화 주기)


