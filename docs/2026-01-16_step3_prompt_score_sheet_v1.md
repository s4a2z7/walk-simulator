# Step 3 — 프롬프트 스코어 시트 v1 (2026-01-16)

## 평가 대상
- 날짜: 2026-01-16
- 프롬프트 버전: v1 (개선)
- 모델: gpt-4o-mini
- 샘플 출처:
  - `out/step3_prompt_test_samples.md` (단일 테스트 러너)
  - `out/step3_pipeline_samples.md` (통합 파이프라인, keyword는 postprocessed 기준)

---

## 1) 리뷰 요약(review_summary)

| 샘플ID | 정확도(0~2) | 간결성(0~2) | 감정근거(0~2) | 형식(JSON)(0~2) | 합계(0~8) | 코멘트(실패/개선점) |
|---|---:|---:|---:|---:|---:|---|
| 1 | 2 | 2 | 2 | 2 | 8 | key_points 최소 2개 충족 |
| 2 | 1 | 2 | 2 | 2 | 7 | “불편함”은 입력에 직접 없음(암시 추정 최소화 필요) |
| 3 | 2 | 2 | 2 | 2 | 8 | 입력 근거 약한 “소통 원활” 제거됨 |
| 4 | 2 | 2 | 2 | 2 | 8 | OK |
| 5 | 2 | 2 | 2 | 2 | 8 | OK |

---

## 2) 대화 요약(dialog_summary)

| 샘플ID | 요약품질(0~2) | intent(0~2) | response(0~2) | next_actions(0~2) | 형식(JSON)(0~2) | 합계(0~10) | 코멘트 |
|---|---:|---:|---:|---:|---:|---:|---|
| 1 | 2 | 2 | 2 | 2 | 2 | 10 | next_actions가 입력 기반(“가능한 시간대 확인”)으로 정리됨 |
| 2 | 2 | 2 | 2 | 2 | 2 | 10 | OK |
| 3 | 2 | 2 | 2 | 2 | 2 | 10 | OK |

---

## 3) 키워드 추출(keyword_extraction)
> 단일 테스트는 모델 출력 기준, 통합 파이프라인은 **postprocessed 최종 키워드 기준**으로 평가

| 샘플ID | 관련성(0~2) | 중복/일반어제거(0~2) | 커버리지(0~2) | 형식(JSON)(0~2) | 합계(0~8) | 코멘트 |
|---|---:|---:|---:|---:|---:|---|
| 1 | 2 | 2 | 2 | 2 | 8 | 5개 이상 충족, 일반어 제거 OK |
| 2 | 2 | 1 | 2 | 2 | 7 | “너무 길다/길다/대기/시간” 중복 성격(중복 억제 강화 여지) |
| 3 | 2 | 1 | 2 | 2 | 7 | “이해/이해하기 쉽게/설명하기 쉽게” 중복 성격 |

---

## 4) 텍스트 분류(text_classification)
> provider_type는 텍스트에 근거가 없으면 `unknown`을 **정답 처리(2점)**로 평가

| 샘플ID | source_type(0~2) | provider_type(0~2) | sentiment(0~2) | topic(0~2) | 형식(JSON)(0~2) | 합계(0~10) | 코멘트 |
|---|---:|---:|---:|---:|---:|---:|---|
| 1 | 2 | 2 | 2 | 2 | 2 | 10 | provider_type 힌트가 없어 unknown이 타당 |
| 2 | 2 | 2 | 2 | 2 | 2 | 10 | inquiry는 sentiment unknown도 타당한 경우 많음 |
| 3 | 2 | 2 | 2 | 2 | 2 | 10 | OK |

