# CareLog AI 프로젝트 최종 보고서

**프로젝트명**: CareLog AI — 의료 서비스 NLP 파이프라인  
**기간**: 2025-12-29 ~ 2026-01-16  
**작성일**: 2026-01-16

---

## 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [개발 과정](#2-개발-과정)
3. [기술 스택](#3-기술-스택)
4. [주요 기능](#4-주요-기능)
5. [성과 및 한계](#5-성과-및-한계)
6. [향후 계획](#6-향후-계획)

---

## 1. 프로젝트 개요

### 1.1 목표
의료 서비스(병원/검진센터/약국) 관련 텍스트를 자동으로 분석하고, 사용자와 대화하는 AI 챗봇 시스템 구축

### 1.2 주요 기능
1. **텍스트 분류**: 리뷰/문의/FAQ/공지 등 자동 분류
2. **요약 생성**: 리뷰 요약, 대화 요약
3. **키워드 추출**: 핵심 키워드 5~10개 자동 추출
4. **챗봇**: 예약/안내 중심 대화형 AI

### 1.3 대상 사용자
- 의료 서비스 제공 기관 (병원, 검진센터, 약국)
- 환자/고객 (예약, 문의, 정보 확인)

---

## 2. 개발 과정

### Step 1: 프로젝트 기획 및 환경 설정 (2025-12-29 ~ 2026-01-04)
- 목표 정의 및 데이터 소스 조사
- Python 환경 구축 (venv, requirements.txt)
- 프로젝트 폴더 구조 설계

### Step 2: 데이터 수집 및 전처리 (2026-01-06 ~ 2026-01-11)
**목표**: 1,000개 이상의 고품질 학습 데이터 확보

**진행 사항**:
- 네이버 플레이스 크롤링 (리뷰 200개)
- Aihub 데이터셋 활용 (대화 400개)
- GPT-4o-mini 기반 증강 (400개)
- 전처리 파이프라인 구축

**산출물**:
- `out/step2_pipeline_v2/step2_preprocessed.csv` (1,000행)
- 중복 제거, 텍스트 정제, 라벨 검증 완료

### Step 3: 모델 개발 및 프롬프트 엔지니어링 (2026-01-12 ~ 2026-01-15)
**목표**: 분류/요약/키워드 기능 프롬프트 설계 및 평가

**진행 사항**:
1. **프롬프트 설계**
   - `step3_text_classification.md`: 4가지 축(source_type, provider_type, sentiment, topic) 분류
   - `step3_review_summary.md`: 리뷰 요약 (감정/핵심 포인트)
   - `step3_dialog_summary.md`: 대화 요약 (상담원 응답/다음 액션)
   - `step3_keyword_extraction.md`: 5~10개 키워드 추출

2. **프롬프트 개선 (v0 → v1)**
   - 키워드: 일반어 제거, 최소 5개 보장 로직 추가
   - 리뷰 요약: 최소 2개 key_points 강제
   - 대화 요약: 환각 방지 (입력 근거만 사용)

3. **자동화 파이프라인**
   - `scripts/step3_prompt_test.py`: 개별 프롬프트 테스트
   - `scripts/step3_prompt_pipeline.py`: 통합 파이프라인 + 후처리

**산출물**:
- 프롬프트 4종 (v1)
- 평가 루브릭 및 점수표
- 테스트 결과 (JSONL + Markdown)

### Step 4: 데모 제작 및 프로젝트 마무리 (2026-01-16)
**목표**: 실행 가능한 챗봇 데모 + 문서화

**진행 사항**:
1. **UI 프레임워크 선정**
   - 초기: Gradio 4.44.1 시도
   - 문제: `TypeError: argument of type 'bool' is not iterable` (버전 호환 이슈)
   - 해결: **Streamlit 1.53.0으로 전환**

2. **챗봇 구현**
   - 시스템 프롬프트 기반 대화 생성
   - 대화 히스토리 유지
   - 예외 처리 (API 키 누락, 오류 등)

3. **문서화**
   - 사용자 가이드
   - 프로젝트 보고서
   - 완료 보고

**산출물**:
- `demo/streamlit_app.py`: 실행 가능한 챗봇 데모
- `prompts/step4_chatbot.md`: 챗봇 시스템 프롬프트
- 문서 3종 (가이드, 보고서, 완료보고)

---

## 3. 기술 스택

### 3.1 언어 및 프레임워크
| 구분 | 기술 | 버전 |
|------|------|------|
| **언어** | Python | 3.11 |
| **UI** | Streamlit | 1.53.0 |
| **LLM API** | OpenAI | 1.59.7 (gpt-4o-mini) |
| **데이터** | pandas, BeautifulSoup4 | 2.2.3, 4.12.3 |
| **환경** | python-dotenv | 1.0.1 |

### 3.2 개발 도구
- **IDE**: Cursor (VS Code 기반)
- **버전 관리**: Git
- **의존성 관리**: pip, requirements.txt

---

## 4. 주요 기능

### 4.1 텍스트 분석 (Step 3)

#### 분류 (Text Classification)
- **입력**: 한국어 텍스트 (리뷰/문의/FAQ 등)
- **출력**: 4가지 축 분류
  - `source_type`: review, inquiry, faq, dataset, notice, unknown
  - `provider_type`: HOSPITAL, CHECKUP_CENTER, PHARMACY, unknown
  - `sentiment_label`: positive, neutral, negative, unknown
  - `topic_label`: reservation, prep, explain, wait, staff, ...

#### 요약 (Summarization)
- **리뷰 요약**: 감정(overall_sentiment) + 핵심 포인트(key_points 2~4개)
- **대화 요약**: 상담원 응답(assistant_response) + 다음 액션(next_actions)

#### 키워드 추출 (Keyword Extraction)
- **입력**: 한국어 텍스트
- **출력**: 5~10개 키워드 (명사/짧은 구)
- **후처리**: 일반어 제거 + 부족 시 입력 기반 보충

### 4.2 챗봇 (Step 4)

#### 대화 생성
- **시스템 프롬프트**: 예약/안내 중심 의료 서비스 챗봇
- **대화 히스토리**: 세션 유지 (이전 대화 컨텍스트)
- **응답 생성**: OpenAI GPT-4o-mini

#### 사용자 경험
- 카카오톡 스타일 단일 화면
- 대화 초기화 버튼
- 로딩 피드백 (답변 생성 중)

---

## 5. 성과 및 한계

### 5.1 성과

#### 정량적 성과
- 전처리 데이터: **1,000개** (목표 달성)
- 프롬프트 개발: **5종** (분류, 리뷰 요약, 대화 요약, 키워드, 챗봇)
- 프롬프트 개선: **v0 → v1** (평가 기반 반복 개선)
- 문서화: **10개 이상** (계획, 평가, 가이드, 보고서 등)

#### 정성적 성과
- 프롬프트 엔지니어링 경험 축적
- 전처리 → 프롬프트 → 데모 전 과정 경험
- 기술적 문제 해결 능력 (Gradio → Streamlit 전환)

### 5.2 한계

#### 기술적 한계
1. **OpenAI API 의존성**
   - 유료 API 필요 (비용 발생)
   - 네트워크 단절 시 동작 불가
   - API 응답 지연 (1~3초)

2. **분석 기능 미연동**
   - 챗봇과 분석 기능(분류/요약/키워드)이 분리됨
   - 통합 UI 부재

3. **다국어 미지원**
   - 한국어만 지원
   - 영어/일본어 등 다국어 미구현

#### 데이터 한계
- 실제 의료 기관 데이터 부족 (크롤링 + 증강 의존)
- 도메인 특화 지식 부족 (병원별 정책, 가격 등)

---

## 6. 향후 계획

### 6.1 단기 (1~2개월)
- [ ] 챗봇에 분석 기능 통합 (사용자 입력 → 분류/키워드 자동 표시)
- [ ] RAG 기반 지식베이스 연동 (병원 정보, FAQ)
- [ ] Docker 컨테이너화
- [ ] Streamlit Cloud 배포

### 6.2 중기 (3~6개월)
- [ ] 다국어 지원 (영어/일본어)
- [ ] 음성 인터페이스 (STT/TTS)
- [ ] 다중 에이전트 시스템 (예약 에이전트 + 안내 에이전트)
- [ ] 사용자 피드백 수집 및 프롬프트 개선

### 6.3 장기 (6개월 이상)
- [ ] 실제 의료 기관 파일럿 테스트
- [ ] 예약 시스템 API 연동
- [ ] 개인화 기능 (사용자별 히스토리, 선호도)
- [ ] 모바일 앱 개발

---

## 7. 결론

**CareLog AI** 프로젝트는 **4주간**의 개발을 통해 **데이터 수집 → 프롬프트 엔지니어링 → 데모 제작**의 전 과정을 완료했습니다. 

### 핵심 성과
1. **실행 가능한 챗봇 데모** 구축
2. **프롬프트 엔지니어링** 경험 및 평가 체계 확립
3. **1,000개 데이터셋** 확보 및 전처리 파이프라인 구축

### 배운 점
- LLM 기반 시스템 개발의 전 과정
- 프롬프트 설계 → 테스트 → 평가 → 개선의 반복 프로세스
- 기술 스택 선정 시 버전 호환성의 중요성

### 향후 방향
본 프로젝트를 기반으로 **실제 의료 기관에 적용 가능한 수준**까지 고도화하여, 환자와 의료진 모두에게 가치를 제공하는 시스템으로 발전시킬 예정입니다.

---

**작성자**: CareLog AI 프로젝트팀  
**감사**: OpenAI (API 제공), Aihub (데이터셋 제공)  
**최종 업데이트**: 2026-01-16 21:00 KST
